"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[273],{69713:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>m});var t=s(85893),r=s(11151);const a={"sidebar position":2},o="Algorithms",i={id:"system-architecture/algorithms",title:"Algorithms",description:"The Synesthesia Reading App uses a series of algorithms to render words in a synesthete's colors.",source:"@site/docs/system-architecture/algorithms.md",sourceDirName:"system-architecture",slug:"/system-architecture/algorithms",permalink:"/project-synesthesia-reading-app/docs/system-architecture/algorithms",draft:!1,unlisted:!1,editUrl:"https://github.com/Capstone-Projects-2024-Spring/project-synesthesia-reading-app/edit/main/documentation/docs/system-architecture/algorithms.md",tags:[],version:"current",lastUpdatedBy:"Ian Tyler Applebaum",frontMatter:{"sidebar position":2},sidebar:"docsSidebar",previous:{title:"Version Control",permalink:"/project-synesthesia-reading-app/docs/system-architecture/version-control"},next:{title:"Database Management",permalink:"/project-synesthesia-reading-app/docs/system-architecture/database-management"}},l={},m=[{value:"Coloring Process Overview",id:"coloring-process-overview",level:3},{value:"1. Separating Monomorphic Components",id:"1-separating-monomorphic-components",level:4},{value:"2. Determining Letter Weights",id:"2-determining-letter-weights",level:4},{value:"3. Coloring a Monomorphemic Word or Word Component",id:"3-coloring-a-monomorphemic-word-or-word-component",level:4},{value:"Sequence Diagram",id:"sequence-diagram",level:3}];function c(e){const n={a:"a",annotation:"annotation",h1:"h1",h3:"h3",h4:"h4",math:"math",mermaid:"mermaid",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msubsup:"msubsup",p:"p",semantics:"semantics",span:"span",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"algorithms",children:"Algorithms"}),"\n",(0,t.jsx)(n.p,{children:"The Synesthesia Reading App uses a series of algorithms to render words in a synesthete's colors."}),"\n",(0,t.jsx)(n.h3,{id:"coloring-process-overview",children:"Coloring Process Overview"}),"\n",(0,t.jsx)(n.mermaid,{value:"\nflowchart LR\n  \n    word([Compound Word])\n    word -- word splitter --\x3e c1{{component 1}} & c2{{component 2}}\n    c1 & c2 --\x3e LETTER_WEIGHTING_MODEL\n    \n    subgraph LETTER_WEIGHTING_MODEL\n        direction TB\n        f1[letter position] & f2[letter type] & f3[dominant vowel] -.-> reg\n        reg(((Multioutput Regression Model)))\n    end\n    \n    LETTER_WEIGHTING_MODEL--\x3e w1{{component 1 letter weights}} & w2{{component 2 letter weights}}\n    w1 -- Coloring Algorithm --\x3e cc1{{colored component 1}}\n    w2 -- Coloring Algorithm --\x3e cc2{{colored component 2}}\n    cc1 & cc2 --recombine--\x3e final([Colored Compound Word])\n\n\n\n"}),"\n",(0,t.jsx)(n.h4,{id:"1-separating-monomorphic-components",children:"1. Separating Monomorphic Components"}),"\n",(0,t.jsxs)(n.p,{children:["First, each word is split using ",(0,t.jsx)(n.a,{href:"https://github.com/TimKam/compound-word-splitter",children:"Tim Kam's compound-word-splitter for Python"}),",\nwhich separates compound words into their component, monomorphemic words. If the word splitter\ncannot find component words, i.e. the word is not compound, the entire words is fed into\nthe letter weighting model in one piece."]}),"\n",(0,t.jsx)(n.h4,{id:"2-determining-letter-weights",children:"2. Determining Letter Weights"}),"\n",(0,t.jsx)(n.p,{children:"Next, each monomorphic component is put through a multioutput regression model.\nThe model for determining letter weights is made in Python using PyTorch and\nthen converted to TensorFlow Lite in order to run on the user's device. It\ntakes in letter features such as letters' position within the component and their\ntype (vowel or consonant) and outputs the weight of each letter within the component."}),"\n",(0,t.jsx)(n.h4,{id:"3-coloring-a-monomorphemic-word-or-word-component",children:"3. Coloring a Monomorphemic Word or Word Component"}),"\n",(0,t.jsxs)(n.p,{children:["Then, the coloring algorithm for a component is run with the determined weights.\nA monomorphemic word/component will be colored using a weighted average of the\nRGB values of each letter, where ",(0,t.jsxs)(n.span,{className:"katex",children:[(0,t.jsx)(n.span,{className:"katex-mathml",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsxs)(n.mrow,{children:[(0,t.jsx)(n.mn,{children:"1"}),(0,t.jsx)(n.mo,{children:"="}),(0,t.jsxs)(n.msubsup,{children:[(0,t.jsx)(n.mo,{children:"\u2211"}),(0,t.jsx)(n.mn,{children:"1"}),(0,t.jsx)(n.mi,{children:"n"})]}),(0,t.jsxs)(n.msubsup,{children:[(0,t.jsx)(n.mi,{mathvariant:"normal",children:"w"}),(0,t.jsx)(n.mi,{children:"i"}),(0,t.jsx)(n.mrow,{})]})]}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"1 = \\sum_{1}^{n}\\mathrm{w}_{i}^{}"})]})})}),(0,t.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,t.jsxs)(n.span,{className:"base",children:[(0,t.jsx)(n.span,{className:"strut",style:{height:"0.6444em"}}),(0,t.jsx)(n.span,{className:"mord",children:"1"}),(0,t.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(n.span,{className:"mrel",children:"="}),(0,t.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,t.jsxs)(n.span,{className:"base",children:[(0,t.jsx)(n.span,{className:"strut",style:{height:"1.104em",verticalAlign:"-0.2997em"}}),(0,t.jsxs)(n.span,{className:"mop",children:[(0,t.jsx)(n.span,{className:"mop op-symbol small-op",style:{position:"relative",top:"0em"},children:"\u2211"}),(0,t.jsx)(n.span,{className:"msupsub",children:(0,t.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(n.span,{className:"vlist-r",children:[(0,t.jsxs)(n.span,{className:"vlist",style:{height:"0.8043em"},children:[(0,t.jsxs)(n.span,{style:{top:"-2.4003em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,t.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(n.span,{className:"mord mtight",children:(0,t.jsx)(n.span,{className:"mord mtight",children:"1"})})})]}),(0,t.jsxs)(n.span,{style:{top:"-3.2029em",marginRight:"0.05em"},children:[(0,t.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(n.span,{className:"mord mtight",children:(0,t.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"})})})]})]}),(0,t.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(n.span,{className:"vlist-r",children:(0,t.jsx)(n.span,{className:"vlist",style:{height:"0.2997em"},children:(0,t.jsx)(n.span,{})})})]})})]}),(0,t.jsx)(n.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsxs)(n.span,{className:"mord",children:[(0,t.jsx)(n.span,{className:"mord mathrm",style:{marginRight:"0.01389em"},children:"w"}),(0,t.jsx)(n.span,{className:"msupsub",children:(0,t.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(n.span,{className:"vlist-r",children:[(0,t.jsxs)(n.span,{className:"vlist",style:{height:"0.363em"},children:[(0,t.jsxs)(n.span,{style:{top:"-2.4413em",marginLeft:"-0.0139em",marginRight:"0.05em"},children:[(0,t.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(n.span,{className:"mord mtight",children:(0,t.jsx)(n.span,{className:"mord mathnormal mtight",children:"i"})})})]}),(0,t.jsxs)(n.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,t.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(n.span,{className:"mord mtight"})})]})]}),(0,t.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(n.span,{className:"vlist-r",children:(0,t.jsx)(n.span,{className:"vlist",style:{height:"0.2587em"},children:(0,t.jsx)(n.span,{})})})]})})]})]})]})]})," and ",(0,t.jsxs)(n.span,{className:"katex",children:[(0,t.jsx)(n.span,{className:"katex-mathml",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsx)(n.mrow,{children:(0,t.jsx)(n.mi,{children:"n"})}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,t.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(n.span,{className:"base",children:[(0,t.jsx)(n.span,{className:"strut",style:{height:"0.4306em"}}),(0,t.jsx)(n.span,{className:"mord mathnormal",children:"n"})]})})]})," is the\nnumber of letters within the component."]}),"\n",(0,t.jsx)(n.span,{className:"katex-error",title:"ParseError: KaTeX parse error: No such environment: A at position 8: \\begin\nA\u0332verage\\ R: \\mat\u2026",style:{color:"#cc0000"},children:"\\begin\nAverage\\ R: \\mathrm{w}_{1}^{} * \\mathrm{R}_{1}^{} \\ +\\ \\mathrm{w}_{2}^{} * \\mathrm{R}_{2}^{} \\ +\\ \\mathrm{w}_{3}^{} * \\mathrm{R}_{3}^{} \\ +\\ ... \\ +\\ \\mathrm{w}_{n}^{} * \\mathrm{R}_{n}^{}\n\n\\\\\nAverage\\ G:\\ \\mathrm{w}_{1}^{} * \\mathrm{G}_{1}^{} \\ +\\ \\mathrm{w}_{2}^{} * \\mathrm{G}_{2}^{} \\ +\\ \\mathrm{w}_{3}^{} * \\mathrm{G}_{3}^{} \\ +\\ ... \\ +\\ \\mathrm{w}_{n}^{} * \\mathrm{G}_{n}^{}\n\n\\\\\nAverage\\ B:\\ \\mathrm{w}_{1}^{} * \\mathrm{B}_{1}^{} \\ +\\ \\mathrm{w}_{2}^{} * \\mathrm{B}_{2}^{} \\ +\\ \\mathrm{w}_{3}^{} * \\mathrm{B}_{3}^{} \\ +\\ ... \\ +\\ \\mathrm{w}_{n}^{} * \\mathrm{B}_{n}^{}\n\\end"}),"\n",(0,t.jsx)(n.h3,{id:"sequence-diagram",children:"Sequence Diagram"}),"\n",(0,t.jsx)(n.p,{children:"The coloring process occurs on the user's device and is called\nwhen a document is loaded or when a user adjusts the color\nof a word."}),"\n",(0,t.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant React UI\n    participant Text Handler\n    participant Color Handler\n    participant Word Splitter\n    participant Color Profile\n    participant Regression Model\n    participant Algorithm\n\n    activate React UI\n    React UI ->> Text Handler: Lazy Load Document\n    activate Text Handler\n    Text Handler->>Word Splitter: sends text\n    activate Word Splitter\n    loop for each word in text\n        Word Splitter->>Word Splitter: split(word)\n    end\n        Word Splitter --\x3e> Text Handler: returns split text\n        deactivate Word Splitter\n\n    \n    Text Handler ->>Color Handler: sends unique components\n    activate Color Handler\n    Color Handler->>Color Profile: sends components\n    activate Color Profile\n    loop for each component\n        Color Profile->>Color Profile: find component color if it exists\n        end\n\n    Color Profile--\x3e>Color Handler: returns colors of saved components\n    deactivate Color Profile\n    \n    Color Handler->>Regression Model: sends unsaved components\n    activate Regression Model\n    Regression Model->>Regression Model: run the model\n    Regression Model--\x3e>Color Handler: returns weights\n    deactivate Regression Model\n    \n    Color Handler->>Algorithm: sends unsaved components and their letter weights\n    activate Algorithm\n    loop for each component\n    Algorithm->>Algorithm: calculate color\n    end\n    Algorithm--\x3e>Color Handler: returns component colors\n    deactivate Algorithm\n    \n    Color Handler--\x3e>Text Handler: returns component-color pairs\n    deactivate Color Handler\n    \n    Text Handler->>Text Handler: recombine split text formatted with color\n    Text Handler--\x3e>React UI: returns the formatted text\n    \n    \n    deactivate Text Handler\n    deactivate React UI\n"})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>i,a:()=>o});var t=s(67294);const r={},a=t.createContext(r);function o(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);